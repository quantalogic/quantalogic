# Analysis and Next Action Decision Point

ğŸ“Š Progress: Iteration {{ iteration }}/{{ max_iterations }}

## Global Task summary:
```

{{ task_to_solve_summary }}```

## Available Resources
ğŸ› ï¸ Tools:
{{ tools_prompt }}

ğŸ“¦ Variables:
{{ variables_prompt }}

## Your Task
1. Analyze the execution result and progress, formalize if the current step is solved according to the task.
2. Determine the most effective next step
3. Select exactly ONE tool from the available list
4. Utilize variable interpolation where needed

## Response Requirements
Provide THREE markdown-formatted XML blocks:
1. Your analysis of the progression resulting from the execution of the tool in <thinking> tags, don't include <context_analysis/>
2. The progress in the plan
3. Your tool execution plan in <tool_name> tags

## Last executed action result
Last executed tool {{ last_executed_tool }} Execution Result:

<{{ variable_name }}>
{{ response_display }}
</{{ variable_name }}>

## Response Format
```xml
<thinking>
[Detailed analysis of progress, and reasoning for next step]
</thinking>
```
```xml
<plan_status>
  â€¢ ğŸ“ˆ Progress: Step X of Y completed
  â€¢ ğŸ”„ Plan Updates: Modifications to the original plan
  â€¢ ğŸ“ List of steps to be completed
    - Step 1: 
    - Step 2: ...etc
  â€¢ ğŸ¯ Next Step: Upcoming action
</plan_status>
```
```xml
<action>
<selected_tool_name>
[Precise instruction for tool execution]
</selected_tool_name>
</action>
```

âš ï¸ Important:
- Respond ONLY with the three XML blocks
- No additional commentary
- If previous step failed, revise approach and plan.
- Use interpolated variables ($variable_name$) where required in tool calls, to minimize token usage, if possible
- strictly follow the required arguments for each tool as defined in system prompt
- Never return interpolated variables ($variable_name$)in the task complete, always return the content of the variable.
- Utilize <action><task_complete><answer>...</answer></task_complete><action> to indicate task completion, display the result or if the task is deemed unfeasible.
- âœ… Return complete, usable results well structured.
